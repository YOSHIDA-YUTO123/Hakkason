//===================================================
//
// スローモーション [slow.cpp]
// Author:YUTO YOSHIDA
//
//===================================================

//***************************************************
// インクルードファイル
//***************************************************
#include "slow.h"

//===================================================
// コンストラクタ
//===================================================
CSlow::CSlow()
{
	m_fMaxLevel = 1.0f;
	m_fLevel = 1.0f;
	m_nCount = -1;
	m_nTime = NULL;
	m_bSlow = false;
}

//===================================================
// デストラクタ
//===================================================
CSlow::~CSlow()
{
}

//===================================================
// 更新処理
//===================================================
void CSlow::Update(void)
{
	if (m_nCount >= 0)
	{
		m_nCount--;
	}
	else
	{
		m_bSlow = false;
		m_fLevel = 1.0f; // もとに戻す
	}
}

//===================================================
// スローモーションの開始
//===================================================
void CSlow::Start(const int nTime, const float fLevel)
{
	if (m_nCount <= 0)
	{
		m_nCount = nTime;
		m_nTime = nTime;
		m_fLevel = fLevel;
		m_fMaxLevel = fLevel;
		m_bSlow = true;
	}
}

//===================================================
// スローモーションの強制終了
//===================================================
void CSlow::End(void)
{
	m_nCount = -1;
}
